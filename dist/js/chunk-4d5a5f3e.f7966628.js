(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d5a5f3e"],{1534:function(e,t,n){"use strict";n("c7e0")},"608c":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"main-container bg-gray-custom justify-content-center"},[n("div",{staticClass:"row justify-content-center form-body"},[n("div",{staticClass:"col-10"},[n("div",{staticClass:"card shadow-lg p-5 my-5"},[n("h3",{staticClass:"h4 text-success font-weight-bold mb-1"},[e._v(" There are 4 types of Volunteer Roles. ")]),n("input",{ref:"myFile",attrs:{type:"file"},on:{change:function(t){return e.selectedFile()}}}),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],domProps:{value:e.text},on:{input:function(t){t.target.composing||(e.text=t.target.value)}}}),n("div",{staticClass:"table-div"},[n("b-table",{attrs:{striped:"",hover:"",items:e.filtered_table_json,selectable:"","select-mode":"single","selected-variant":"primary"},on:{"row-clicked":e.selectRow}})],1),n("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.applyFilter()}}},[e._v(" Apply filter. ")]),n("JsonCSV",{staticClass:"btn btn-primary",attrs:{data:e.filtered_table_json,name:"location-data.csv"}},[e._v(" Download Data As CSV "),n("img",{attrs:{src:"download_icon.png"}})]),n("br"),n("br"),n("PageChanger",{attrs:{page:4}})],1)])])])])},r=[],s=(n("caad"),n("2532"),n("96cf"),n("1da1")),o=n("260b"),i=(n("ea7b"),n("66ce"),n("ec8d")),c=n("2347"),l=n.n(c),u=n("4d7c"),d={name:"Onboarding-5",components:{PageChanger:i["a"],JsonCSV:l.a},data:function(){return{user_data:null,text:"",filtered_table_json:null,table_json:null,input_json:null,compiled_json:{},filtered_json:{},role:"",role_empty:!1}},created:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==o["a"].apps.length){e.next=4;break}return t={apiKey:"AIzaSyDlpces85D7-q4YXqQvk6Sd7K4ns_hxzIc",authDomain:"bthc-volunteer-manager.firebaseapp.com",databaseURL:"https://bthc-volunteer-manager-default-rtdb.firebaseio.com",projectId:"bthc-volunteer-manager",storageBucket:"bthc-volunteer-manager.appspot.com",messagingSenderId:"460312984962",appId:"1:460312984962:web:929cdb4bca23cea6dd239b",measurementId:"G-YKPGZTFHW2"},e.next=4,o["a"].default.initializeApp(t);case 4:case"end":return e.stop()}}),e)})))()},mounted:function(){var e=this;o["a"].auth().onAuthStateChanged((function(t){t?e.getUserData(t.uid):console.log("Error: No user is signed in!")}))},methods:{selectRow:function(e){console.log(e["Site Name"]),console.log(e)},selectedFile:function(){var e=this,t=this.$refs.myFile.files[0];if(t){var n=new FileReader;n.readAsText(t,"UTF-8"),n.onload=function(t){e.text=t.target.result,u().fromString(e.text).then((function(t){e.input_jsonm=t,console.log(e.input_jsonm)}))},n.onerror=function(e){console.error(e)}}else console.log("Error reading file!")},applyFilter:function(){for(var e={City:"Boston"},t=[],n=0;n<this.table_json.length;n++){var a={},r=!0;for(var s in this.table_json[n])a[s]=this.table_json[n][s],s in e&&(this.table_json[n][s].includes(e[s])||(r=!1));r&&t.push(a)}console.log(t),this.filtered_table_json=t},set_data:function(){this.user_data},detect_errors:function(){},save_data:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.detect_errors(),this.saved;case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getUserData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].database().ref("user-data/"+t).once("value").then((function(e){return e.val()}));case 2:n=e.sent,this.user_data=n,this.set_data();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),writeUserData:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={vol_role:this.role,onboarding_stage:5},console.log(this.user_data.uid),e.next=4,o["a"].database().ref("user-data/"+this.user_data.uid).update(t,(function(e){return!e||(console.log("Error: Could not update user data!"),console.log(e),!1)}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},p=d,f=(n("1534"),n("2877")),h=Object(f["a"])(p,a,r,!1,null,null,null);t["default"]=h.exports},c7e0:function(e,t,n){}}]);
//# sourceMappingURL=chunk-4d5a5f3e.f7966628.js.map