{"remainingRequest":"C:\\Users\\Jagdeep\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Jagdeep\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Jagdeep\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Jagdeep\\Documents\\GitHub\\BTHC-Volunteer-Manager\\src\\views\\SecondUrl.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Jagdeep\\Documents\\GitHub\\BTHC-Volunteer-Manager\\src\\views\\SecondUrl.vue","mtime":1610319276042},{"path":"C:\\Users\\Jagdeep\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Jagdeep\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Jagdeep\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Jagdeep\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvSmFnZGVlcC9Eb2N1bWVudHMvR2l0SHViL0JUSEMtVm9sdW50ZWVyLU1hbmFnZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UvYXBwIjsKaW1wb3J0ICdmaXJlYmFzZS9hdXRoJzsKaW1wb3J0ICdmaXJlYmFzZS9kYXRhYmFzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc2Vjb25kJywKICBjb21wb25lbnRzOiB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgZmlyZWJhc2UuYXV0aCgpLm9uQXV0aFN0YXRlQ2hhbmdlZChmdW5jdGlvbiAodXNlcikgewogICAgICBpZiAodXNlcikgewogICAgICAgIC8vIFVzZXIgaXMgc2lnbmVkIGluLCBjcmVhdGUgdXNlciBpZiBuZXcKICAgICAgICBpZiAoc2VsZi5uZXdVc2VyKSB7CiAgICAgICAgICBzZWxmLmNyZWF0ZVVzZXIodXNlcik7CiAgICAgICAgfSAvLyBTZXQgdXNlcl9kYXRhIGFuZCBjaGVjayBmb3IgdXBkYXRlcyB0byBpdAoKCiAgICAgICAgc2VsZi5nZXRVc2VyKHVzZXIudWlkKTsKICAgICAgICBzZWxmLmluaXRMb29wKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gTm8gdXNlciBpcyBzaWduZWQgaW4uCiAgICAgICAgY29uc29sZS5sb2coIkVycm9yOiBObyB1c2VyIGlzIHNpZ25lZCBpbiEiKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3VXNlcjogdGhpcy4kY29va2llLmdldCgnaXNOZXdVc2VyJyksCiAgICAgIHVzZXJfZGF0YTogbnVsbAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNyZWF0ZVVzZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9jcmVhdGVVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVzZXIpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigndXNlci1kYXRhLycgKyB1c2VyLnVpZCkuc2V0KHsKICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IHVzZXIuZGlzcGxheU5hbWUsCiAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICAgICAgICAgICAgICB1aWQ6IHVzZXIudWlkLAogICAgICAgICAgICAgICAgICByb2xlOiAidm9sdW50ZWVyIiwKICAgICAgICAgICAgICAgICAgc2l0ZTogbnVsbCwKICAgICAgICAgICAgICAgICAgc2tpbGxzOiBudWxsCiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdyaXRlIGZhaWxlZC4uLgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJFcnJvcjogQ291bGQgbm90IGFkZCB1c2VyIHRvIGRhdGFiYXNlISIpOwogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gRGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkhCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY3JlYXRlVXNlcihfeCkgewogICAgICAgIHJldHVybiBfY3JlYXRlVXNlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY3JlYXRlVXNlcjsKICAgIH0oKSwKICAgIGdldFVzZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRVc2VyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMih1c2VyX3VpZCkgewogICAgICAgIHZhciBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoJ3VzZXItZGF0YS8nICsgdXNlcl91aWQpLm9uY2UoJ3ZhbHVlJykudGhlbihmdW5jdGlvbiAoc25hcHNob3QpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHNuYXBzaG90LnZhbCgpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMudXNlcl9kYXRhID0gZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0VXNlcihfeDIpIHsKICAgICAgICByZXR1cm4gX2dldFVzZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFVzZXI7CiAgICB9KCksCiAgICBpbml0TG9vcDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2luaXRMb29wID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyh1c2VyX2lkKSB7CiAgICAgICAgdmFyIHNlbGY7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHNlbGYgPSB0aGlzOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCd1c2VyLWRhdGEvJyArIHVzZXJfaWQpLm9uKCd2YWx1ZScsIGZ1bmN0aW9uIChzbmFwc2hvdCkgewogICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IFtdOwogICAgICAgICAgICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZFNuYXBzaG90KSB7CiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKGNoaWxkU25hcHNob3QudmFsKCkpOyAvLyBGaWxsIHRoZSBsb2NhbCBkYXRhIHByb3BlcnR5IHdpdGggRmlyZWJhc2UgZGF0YQoKICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXJfZGF0YSA9IGRhdGE7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGluaXRMb29wKF94MykgewogICAgICAgIHJldHVybiBfaW5pdExvb3AuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGluaXRMb29wOwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["SecondUrl.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"thing\">\r\n        <h3>Is new user: {{ newUser }}</h3>\r\n        <h3>User data: {{ user_data }}</h3>\r\n        <router-link to='/third'>\r\n            <button>Take me to Third Page!</button>\r\n        </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nexport default {\r\n  name: 'second',\r\n  components: {\r\n  },\r\n  mounted() {\r\n    let self = this;\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n        if (user) {\r\n            // User is signed in, create user if new\r\n            if (self.newUser){\r\n                self.createUser(user);\r\n            }\r\n            // Set user_data and check for updates to it\r\n            self.getUser(user.uid);\r\n            self.initLoop()\r\n        }\r\n        else {\r\n            // No user is signed in.\r\n            console.log(\"Error: No user is signed in!\");\r\n        }\r\n    });\r\n  },\r\n  data() {\r\n      return {\r\n          newUser: this.$cookie.get('isNewUser'),\r\n          user_data: null\r\n      }\r\n  },\r\n  methods: {\r\n      createUser: async function(user) {\r\n        await firebase.database().ref('user-data/' + user.uid).set({\r\n            displayName: user.displayName,\r\n            email: user.email,\r\n            uid: user.uid,\r\n            role: \"volunteer\",\r\n            site: null,\r\n            skills: null\r\n        }, function(error) {\r\n            if (error) {\r\n                // The write failed...\r\n                console.log(\"Error: Could not add user to database!\");\r\n                console.log(error);\r\n                return false;\r\n            }\r\n            else {\r\n                // Data saved successfully!\r\n                return true;\r\n            }\r\n        });\r\n      },\r\n      getUser: async function(user_uid) {\r\n        var data = await firebase.database().ref('user-data/' + user_uid).once('value').then((snapshot) => {\r\n            return snapshot.val();\r\n        });\r\n        this.user_data = data;\r\n      },\r\n      initLoop: async function(user_id) {\r\n        let self = this;\r\n        await firebase.database().ref('user-data/' + user_id).on('value', function(snapshot) {\r\n            let data = [];\r\n            snapshot.forEach(function(childSnapshot) {\r\n                data.push(childSnapshot.val());\r\n                // Fill the local data property with Firebase data\r\n                self.user_data = data;\r\n    });\r\n        });\r\n      }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#thing {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 200px;\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}